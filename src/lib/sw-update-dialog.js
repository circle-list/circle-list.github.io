!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.serviceWorkerUpdatefoundRefreshDialog={})}(this,function(e){function t(e){e.waiting&&e.waiting.postMessage("skipWaiting")}"ServiceWorkerGlobalScope"in self&&self instanceof ServiceWorkerGlobalScope&&self.addEventListener("message",function(e){e.data&&"skipWaiting"===e.data&&self.skipWaiting()}),e.register=function(e,n){void 0===n&&(n={});var o,i=n.message||"A new version of this page is available. Click here to update.",a=n.onClick||t,r=void 0!==n.forceUpdate&&n.forceUpdate;navigator.serviceWorker.controller&&(navigator.serviceWorker.addEventListener("controllerchange",function(e){o||(o=!0,window.location.reload())}),function(e,t,n){if(void 0===n&&(n={forceUpdate:!1}),e.waiting)return t();function o(){e.installing.addEventListener("statechange",function(e){"installed"===e.target.state&&t()})}if(e.installing)return o();e.addEventListener("updatefound",o),n.forceUpdate&&t()}(e,function(){!function(e,t){var n=t.message,o=t.onClick,i=document.createElement("button");i.id="service-worker-updatefound-refresh-dialog",i.dataset.testid="service-worker-updatefound-refresh-dialog-button",i.style="\n      min-width: var(--sw-updatefound-refresh-dialog--min-width, 250px);\n      color: var(--sw-updatefound-refresh-dialog--color, #fff);\n      background-color: var(--sw-updatefound-refresh-dialog--background-color, #333);\n      text-align: var(--sw-updatefound-refresh-dialog--text-align, center);\n      border-radius: var(--sw-updatefound-refresh-dialog--border-radius, 2px);\n      padding: var(--sw-updatefound-refresh-dialog--padding, 16px);\n      position: var(--sw-updatefound-refresh-dialog--position, fixed);\n      z-index: var(--sw-updatefound-refresh-dialog--z-index, 1);\n      left: var(--sw-updatefound-refresh-dialog--left, initial);\n      right: var(--sw-updatefound-refresh-dialog--right, 5%);\n      top: var(--sw-updatefound-refresh-dialog--top, initial);\n      bottom: var(--sw-updatefound-refresh-dialog--bottom, 30px);\n      transition: var(--sw-updatefound-refresh-dialog--transition, opacity 0.5s ease-out);\n",i.textContent=n;var a=function(){i.disabled=!0,i.style.opacity=0,i.removeEventListener("click",a),o(e)};i.addEventListener("click",a),document.body.appendChild(i)}(e,{message:i,onClick:a})},{forceUpdate:r}))}});
//# sourceMappingURL=service-worker-updatefound-refresh-dialog.umd.js.map